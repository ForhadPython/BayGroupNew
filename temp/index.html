{% extends 'base.html'%}
{% load static %}
{% block content %}

<main class="main">
    <!-- Hero Section -->
  <section id="hero" class="hero section dark-background" style="position:relative;width:100%;height:100vh;overflow:hidden;margin:0;padding:0;">
      <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000" style="width:100%;height:100%;">

        <div class="carousel-inner" style="width:100%;height:100%;">
          {% for banner in banners %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}" style="width:100%;height:100%;">
            <img src="{{ banner.background_image.url }}" class="d-block w-100" alt="{{ banner.title }}"
                 style="width:100%;height:100vh;object-fit:cover;object-position:center;filter:brightness(60%);">

            <div class="carousel-container"
                 style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
                        text-align:center;color:#fff;z-index:2;">
              <div class="container text-start" data-aos="fade-up" data-aos-delay="100" style="max-width:800px;">
                <h2 style="font-size:56px;font-weight:700;line-height:1.2;">{{ banner.title }}</h2>
                {% if banner.subtitle %}
                <p style="font-size:20px;margin-top:15px;">{{ banner.subtitle }}</p>
                {% endif %}
                {% if banner.primary_button_text %}
                <a href="{{ banner.primary_button_link }}" class="btn mt-3"
                   style="margin-top:25px;padding:12px 35px;border-radius:50px;
                          font-size:16px;font-weight:500;
                          border:2px solid #fff;color:#fff;
                          background:transparent;
                          transition:all 0.3s ease;"
                   onmouseover="this.style.background='white';this.style.color='black';"
                   onmouseout="this.style.background='transparent';this.style.color='white';">
                   {{ banner.primary_button_text }}
                </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" style="width:5%;z-index:3;">
          <span class="carousel-control-prev-icon" style="filter:invert(1);"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" style="width:5%;z-index:3;">
          <span class="carousel-control-next-icon" style="filter:invert(1);"></span>
        </button>
      </div>
  </section>


  <!-- ======= About Us Section ======= -->
  <section id="features" class="features section">
    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>{{ about_section.top_title }}</h2>
      {% if about_section.subtitle %}
        <p>{{ about_section.subtitle|safe }}</p>
      {% endif %}
    </div>
    <!-- End Section Title -->

    <div class="container">
      <div class="row gy-4 align-items-stretch justify-content-between features-item">
        <!-- Left side: Image -->
        <div class="col-lg-6 d-flex align-items-center features-img-bg" data-aos="zoom-out">
          {% if about_section.image %}
            <img src="{{ about_section.image.url }}" class="img-fluid" alt="{{ about_section.title }}">
          {% else %}
            <img src="{% static 'assets/img/features-light-3.jpg' %}" class="img-fluid" alt="Default About Image">
          {% endif %}
        </div>

        <!-- Right side: Text -->
        <div class="col-lg-5 d-flex justify-content-center flex-column" data-aos="fade-up">
          <h3>{{ about_section.title }}</h3>
          <div>
            {{ about_section.description|safe }}
          </div>

          {% if about_section.button_text %}
            <a href="{{ about_section.button_link }}" class="btn btn-get-started align-self-start">
              {{ about_section.button_text }}
            </a>
          {% endif %}
        </div>
      </div><!-- Features Item -->
    </div>
  </section>
  <!-- /About Us End -->


  <!-- ======= Bay Group History Section ======= -->
  <section style="background:#f8f9fa; padding:60px 0; font-family:inherit;">
    <div style="max-width:1200px; margin:0 auto;">
      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>{{ history_headlines.title }}</h2>
        <p>{{ history_headlines.description }}</p>
      </div>
      <!-- End Section Title -->
      <!-- Timeline Container -->
      <div style="position:relative; margin:50px 0;">
        <!-- Center Line (Hidden on mobile) -->
        <div style="
          content:''; position:absolute; width:4px; background:#003366;
          top:0; bottom:0; left:50%; margin-left:-2px;
        " class="timeline-line"></div>
        {% for item in histories %}
          {% if forloop.counter|divisibleby:2 %}
            <!-- Right item -->
            <div style="
              position:relative; width:50%; padding:20px 60px; left:50%;
            " class="timeline-item right-item">
              <!-- Left Arrow -->
              <div style="
                position:absolute; top:40px; left:-25px; width:40px; height:40px;
                background:url('{% static 'assets/img/right_arrow2.jpeg' %}') no-repeat center center;
                background-size:contain; z-index:10; transform:translateY(-50%);
              "></div>
              <div style="
                background:#fff; padding:25px; border-radius:12px;
                box-shadow:0 4px 15px rgba(0,0,0,0.1);
                border-right:5px solid #003366;
              ">
                <h4 style="color:#003366; font-weight:700;">{{ item.year }}</h4>
                <h5 style="margin-bottom:10px;">{{ item.title }}</h5>
                <p style="color:#333; line-height:1.8;">{{ item.description|safe }}</p>
              </div>
            </div>
          {% else %}
            <!-- Left item -->
            <div style="
              position:relative; width:50%; padding:20px 60px; left:0;
            " class="timeline-item left-item">
              <!-- Right Arrow -->
              <div style="
                position:absolute; top:40px; right:-25px; width:40px; height:40px;
                background:url('{% static 'assets/img/arrow_left.jpeg' %}') no-repeat center center;
                background-size:contain; z-index:10; transform:translateY(-50%);
              "></div>
              <div style="
                background:#fff; padding:25px; border-radius:12px;
                box-shadow:0 4px 15px rgba(0,0,0,0.1);
                border-left:5px solid #003366;
              ">
                <h4 style="color:#003366; font-weight:700;">{{ item.year }}</h4>
                <h5 style="margin-bottom:10px;">{{ item.title }}</h5>
                <p style="color:#333; line-height:1.8;">{{ item.description|safe }}</p>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </section>
  <!-- ======= End Bay Group History Section ======= -->
  <!-- Mobile Responsive Inline CSS -->
  <style>
    @media (max-width: 768px) {
      .timeline-line {
        display: none !important;
      }
      .timeline-item {
        width: 100% !important;
        left: 0 !important;
        padding: 10px 20px !important;
        margin-bottom: 30px;
      }
      .timeline-item div {
        box-shadow: 0 3px 10px rgba(0,0,0,0.1) !important;
      }
      .timeline-item .arrow {
        display: none !important;
      }
    }
  </style>



  <!-- ======= Our partners section Section ======= -->
  <section id="services" class="services section">
    <div class="container section-title" data-aos="fade-up">
    <h2>{{ partners_headline.title }}</h2>
    <p>{{ partners_headline.description }}</p>
    </div>

    <div class="container">
      <div class="row gy-4">
        {% for partner in partners %}
        <div class="col-lg-6" data-aos="fade-up" data-aos-delay="{{ partner.aos_delay }}">
          <div class="service-item d-flex">
            <div class="icon flex-shrink-0">
              <img src="{{ partner.image.url }}" alt="{{ partner.title }}" style="width:50px; height:50px;">
            </div>
            <div>
              <h4 class="title"><a href="{{ partner.link }}" class="stretched-link">{{ partner.title }}</a></h4>
              <p class="description">{{ partner.description|safe|truncatewords:30 }}</p>
              <a href="{{ partner.link }}" class="read-more"><span>See More</span><i class="bi bi-arrow-right"></i></a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <!-- ======= End Our partners section Section ======= -->

  <!-- ======= Our Join Us Section ======= -->
  <section id="call-to-action" class="call-to-action section dark-background">
    {% if join_us_section.background_image %}
      <img src="{{ join_us_section.background_image.url }}" alt="">
    {% endif %}
    <div class="container">
      <div class="row justify-content-center" data-aos="zoom-in" data-aos-delay="100">
        <div class="col-xl-10">
          <div class="text-center">
            <h3>{{ join_us_section.title }}</h3>
            <p>{{ join_us_section.description }}</p>
            <a class="cta-btn" href="{{ join_us_section.button_link }}">{{ join_us_section.button_text }}</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- ======= End Join Us Section ======= -->


<!-- ======= CSR Section ======= -->
<section id="features" class="features section">
  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>{{ csr_section.title }}</h2>
    {% if csr_section.subtitle %}
      <p>{{ csr_section.subtitle|safe }}</p>
    {% endif %}
  </div><!-- End Section Title -->

  <div class="container">
    <div class="row gy-4 align-items-stretch justify-content-between features-item ">
      <div class="col-lg-6 d-flex align-items-center features-img-bg" data-aos="zoom-out">
        {% if csr_section.image %}
          <img src="{{ csr_section.image.url }}" class="img-fluid" alt="">
        {% endif %}
      </div>
      <div class="col-lg-5 d-flex justify-content-center flex-column" data-aos="fade-up">
        {{ csr_section.description|safe }}
        <a href="{{ csr_section.button_link }}" class="btn btn-get-started align-self-start">
          {{ csr_section.button_text }}
        </a>
      </div>
    </div><!-- Features Item -->
  </div>
</section>
<!-- ======= End CSR Section ======= -->



<!-- ======= Brand Logo Slider Section ======= -->
<section id="brand-logos" style="background:#f8f9fa;padding:0px 0;">
  <div class="container" data-aos="fade-up" style="text-align:center;">
    <!-- Swiper Container -->
    <div class="swiper mySwiper" style="width:100%;padding-bottom:30px;">
      <div class="swiper-wrapper" style="display:flex;align-items:center;">
        {% for logo in brand_logos %}
          <div class="swiper-slide" style="display:flex;justify-content:center;align-items:center;">
            {% if logo.link %}
              <a href="{{ logo.link }}" target="_blank">
                <img src="{{ logo.image.url }}" alt="{{ logo.title }}" style="width:150px;filter:grayscale(100%);opacity:0.7;transition:all 0.3s ease;">
              </a>
            {% else %}
              <img src="{{ logo.image.url }}" alt="{{ logo.title }}" style="width:150px;filter:grayscale(100%);opacity:0.7;transition:all 0.3s ease;">
            {% endif %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
<!-- ======= End Brand Logo Slider Section ======= -->




<!-- ======= Recent Posts Section ======= -->
<section id="recent-posts" class="recent-posts section">
  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Achievements & Events (News)</h2>
    <p>Our latest updates and milestones</p>
  </div><!-- End Section Title -->

  <div class="container">
    <div class="row gy-4">
      {% for post in aen_posts %}
        <div class="col-xl-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter|add:'0' }}00">
          <article>
            <div class="post-img">
              <img src="{{ post.image.url }}" alt="{{ post.title }}" class="img-fluid">
            </div>
            <h2 class="title">
              {% if post.link %}
                <a href="{{ post.link }}">{{ post.title }}</a>
              {% else %}
                {{ post.title }}
              {% endif %}
            </h2>
            <p>{{ post.description|truncatewords:25 }}</p>
            {% if post.link %}
              <a href="{{ post.link }}" class="read-more"><span>Read More</span><i class="bi bi-arrow-right"></i></a>
            {% endif %}
          </article>
        </div>
      {% endfor %}
    </div><!-- End recent posts list -->
  </div>
</section><!-- /Recent Posts Section -->



  </main>

{% endblock %}